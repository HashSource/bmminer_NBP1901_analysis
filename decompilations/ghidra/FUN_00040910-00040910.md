```c
// Function to unexport a GPIO pin
// Return values: 0 for success, non-zero for error codes
int unexportGpioPin(int gpioPin)
{
  int mutexLockResult;
  size_t writeLength;
  ssize_t writeResult;
  int unexportReturnCode;
  char gpioPath[64];
  int fileDescriptorExport;
  char writeBuffer[64];
  
  // Try to lock the GPIO access mutex
  mutexLockResult = pthread_mutex_lock(gpioAccessMutex);
  if (mutexLockResult == 0) {
    // Create the path string to the GPIO pin and check if it is accessible
    snprintf(gpioPath, sizeof(gpioPath), "/sys/class/gpio/gpio%d", gpioPin);
    mutexLockResult = access(gpioPath, F_OK);
    if (mutexLockResult != 0) {
      // GPIO pin already unexported, log the message and return success (0)
      snprintf(writeBuffer, sizeof(writeBuffer), "GPIO port %d already unexported, ret = %d\n", gpioPin, mutexLockResult);
      logMessage(1, writeBuffer);
      perror("access error");
      pthread_mutex_unlock(gpioAccessMutex);
      return 0;
    }
    // Open the unexport file for writing
    fileDescriptorExport = open64("/sys/class/gpio/unexport", O_WRONLY);
    if (fileDescriptorExport < 0) {
      // Failed to open the unexport file, log the error message and return an error code
      logMessage(0, "Failed to open unexport for writing");
      unexportReturnCode = -2; // Error code for failed open
      pthread_mutex_unlock(gpioAccessMutex);
    }
    else {
      // Write the GPIO pin number to the unexport file to unexport the GPIO pin
      writeLength = snprintf(gpioPath, sizeof(gpioPath), "%d", gpioPin);
      writeResult = write(fileDescriptorExport, gpioPath, writeLength);
      if (writeResult < 0) {
        // Failed to write to the unexport file, log the error message and return an error code
        snprintf(writeBuffer, sizeof(writeBuffer), "Failed to unexport gpio %d!", gpioPin);
        unexportReturnCode = -2; // Error code for failed write
        logMessage(0, writeBuffer);
        close(fileDescriptorExport);
        pthread_mutex_unlock(gpioAccessMutex);
      }
      else {
        // Successfully unexported the GPIO pin
        close(fileDescriptorExport);
        pthread_mutex_unlock(gpioAccessMutex);
        unexportReturnCode = 0;
      }
    }
  }
  else {
    // Failed to lock the GPIO access mutex, return an error code
    unexportReturnCode = -1; // Error code for failed mutex lock
    logMessage(0, "failed to acquire API lock");
  }
  return unexportReturnCode;
}
```