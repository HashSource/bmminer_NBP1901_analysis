```c
#define MAX_MINER_INDEX 0x58dfbc // Adjust this as per actual max miner index 
#define MINER_CONFIG_BASE_ADDR 0x58e018 // Base address for miner configurations 

int updateMinerConfig(uint minerIndex, undefined minerConfigValue)
{
  int updateResult;
  uint isInvalidMinerIndex;
  
  // Check if the minerIndex is the last possible index (validity check)
  isInvalidMinerIndex = minerIndex >> 0x1f;
  
  // Check if the miner index is beyond allowed range
  if (MAX_MINER_INDEX <= (int)minerIndex) {
    isInvalidMinerIndex = 1;
  }
  
  // If it is not an invalid miner index, proceed with the update
  if (isInvalidMinerIndex == 0) {
    // Check if this is the first time configuration is being set
    if (*(int*)(SOME_GLOBAL_ADDR /* Replace with the actual address, e.g., 0x58e010*/) == 0) {
      // Initialize the miner (possible hardware initialization)
      updateResult = initializeMiner(minerIndex);
      if (updateResult < 0) {
        return updateResult; // Initialization failed, return error code
      }
    }
    else {
      updateResult = 0; // No need to initialize, continue with the update
    }
    // Update miner configuration value at calculated config address
    // Data is stored at offset 1 within a configuration size of 0x210 for each miner.
    *(undefined *)(MINER_CONFIG_BASE_ADDR + minerIndex * 0x210 + 1) = minerConfigValue;
    return updateResult; // Return the result of the update or initialization
  }
  
  // Return error code indicating invalid miner index
  return -0x7ffffbff;
}
```