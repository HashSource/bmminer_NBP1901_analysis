```c
#define MAX_CHAINS 4
#define MAX_RETRY 3
#define LOG_BUFFER_SIZE 0x800
#define ASIC_DETECTION_THRESHOLD 3

// Global variables (renamed)
bool gIsInteractiveMode;
int gLogLevel;
int gExpectedAsicCount;

// Function prototypes (renamed with more descriptive names)
int InitializeChain(uint chainIndex);
int ShutdownChain(uint chainIndex);
int PowerOffChain(uint chainIndex);
int PowerOnChain(uint chainIndex);
int GetChainAsicCount(uint chainIndex);
int GetExpectedAsicCount(void);
void Log(int level, const char *format, ...);
void DelayInMilliseconds(int milliseconds);

int DetectAsicsOnAllChains(void) {
  int currentAsicCount;
  int expectedAsicCount;
  int retryCount;
  uint chainIndex;
  uint status = 0;
  char logBuffer[LOG_BUFFER_SIZE];

  // Iterate over each possible chain
  for (chainIndex = 0; chainIndex < MAX_CHAINS; chainIndex++) {
    // Try to initialize the chain
    if (InitializeChain(chainIndex) != 0) {
      // If initialization is successful, proceed with ASIC detection
      retryCount = 0;
      do {
        // Power cycle the chain
        ShutdownChain(chainIndex);
        sleep(3);
        PowerOnChain(chainIndex);
        DelayInMilliseconds(1000);
  
        // If interactive mode is enabled, wait for user input before proceeding
        if (gIsInteractiveMode) {
          if (gLogLevel > ASIC_DETECTION_THRESHOLD) {
            snprintf(logBuffer, LOG_BUFFER_SIZE,
                     "PIC enabled for chain %d, press any key to continue...", chainIndex);
            Log(3, logBuffer, 0);
          }
          getchar(); // Read a character from stdin
        }

        // Re-initialize and wait before retry
        ShutdownChain(chainIndex);
        DelayInMilliseconds(200);
        PowerOnChain(chainIndex);
        sleep(1);
        ShutdownChain(chainIndex);
        DelayInMilliseconds(200);

        // Disable PIC on the chain
        PowerOffChain(chainIndex);

        // Check the ASIC count found on the chain
        currentAsicCount = GetChainAsicCount(chainIndex);

        // Log the number of ASICs detected
        if (gLogLevel > ASIC_DETECTION_THRESHOLD) {
          snprintf(logBuffer, LOG_BUFFER_SIZE,
                   "Chain[%d]: found %d ASICs, attempt %d\n",
                   chainIndex, currentAsicCount, retryCount);
          Log(3, logBuffer, 0);
        }

        // Compare found ASIC count with the expected count
        expectedAsicCount = GetExpectedAsicCount();
        retryCount++;

      } while ((currentAsicCount != expectedAsicCount) &&
               (PowerOffChain(chainIndex), retryCount != MAX_RETRY));

      // Final comparison after retries
      currentAsicCount = GetChainAsicCount(chainIndex);
      expectedAsicCount = GetExpectedAsicCount();

      // If the ASIC counts do not match, power off the chain and log the event
      if (expectedAsicCount != currentAsicCount) {
        if (gLogLevel > ASIC_DETECTION_THRESHOLD) {
          snprintf(logBuffer, LOG_BUFFER_SIZE,
                   "Chain %d only found %d ASICs, will power off hash board %d\n",
                   chainIndex, currentAsicCount, chainIndex);
          Log(3, logBuffer, 0);
        }
        status = 0xffffffff; // Indicate that there was an error
        PowerOffChain(chainIndex);
        PowerOffChain(chainIndex); // Disable PIC on the chain
      }
    }
  }
  return status; // Return the status, indicating if any chain had an error during initialization
}
```