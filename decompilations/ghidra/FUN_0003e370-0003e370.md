```c
char * GenerateHelpMessage(char *commandName, char *additionalInfo)
{
  size_t commandNameLength;
  size_t totalLength;
  size_t additionalInfoLength;
  int argumentIndex;
  char *generatedString;
  int stringOffset;
  int formattedLength;
  int tempLength;
  char *subString;
  char *helpString;
  uint optionCount;
  uint currentOptionIndex;
  char *currentHelpSection;
  bool hasOptions;
  undefined2 *defaultIndicator;
  char *outputCursor;
  int local_optionIndices[20];
  undefined *temporaryStringPointer;
  
  commandNameLength = strlen(commandName);
  optionCount = GlobalOptionCount; // Previously DAT_0099ee24
  currentHelpSection = GlobalHelpSections; // Previously DAT_0099ee1c
  totalLength = GlobalHelpSectionsLength + 0x14 + commandNameLength; // Previously DAT_0099ee18
  if (additionalInfo == NULL) {
    if (GlobalOptionCount == 0) {
      additionalInfo = "";
      goto CreateHelpMessage;
    }
    currentOptionIndex = 0;
    currentHelpSection = GlobalHelpSections;
    do {
      currentOptionIndex++;
      if ((currentHelpSection[2] == &UNKNOWN_COMMAND_POINTER) && (additionalInfo = currentHelpSection[5], additionalInfo != NULL)) {
        additionalInfoLength = strlen(additionalInfo);
        totalLength += additionalInfoLength;
        goto CalculateTotalLength;
      }
      currentHelpSection += 7; // size of the section struct
    } while (currentOptionIndex != GlobalOptionCount);
    additionalInfo = "";
  }
  else {
    additionalInfoLength = strlen(additionalInfo);
    totalLength += additionalInfoLength;
    currentHelpSection = GlobalHelpSections;
    if (optionCount == 0) goto CreateHelpMessage;
  }
CalculateTotalLength:
  currentOptionIndex = 0;
  do {
    while(true) {
      currentHelpSection = currentHelpSection[6];
      if (currentHelpSection[1] != 0x8) break;
      currentOptionIndex++;
      additionalInfoLength = strlen(currentHelpSection);
      totalLength += additionalInfoLength + 3;
      currentHelpSection += 7;
      if (optionCount <= currentOptionIndex) goto CreateHelpMessage;
    }
    if (currentHelpSection != &GLOBAL_SECTION_POINTER) {
      subString = strlen(*currentHelpSection);
      helpString = strlen(currentHelpSection);
      argumentIndex = subString + totalLength + 6 + helpString;
      tempLength = argumentIndex + 0x76;
      if (currentHelpSection[4] == NULL) {
        tempLength = argumentIndex + 0x15;
      }
      totalLength = tempLength + 1;
    }
    currentOptionIndex++;
    currentHelpSection += 7;
  } while (currentOptionIndex < optionCount);
CreateHelpMessage:
  generatedString = (char *)malloc(totalLength);
  if (generatedString != NULL) {
    formattedLength = sprintf(generatedString, "Usage: %s", commandName);
    outputCursor = generatedString + formattedLength;
    *(undefined4 *)(generatedString + formattedLength) = NEWLINE_SEQUENCE;
    helpString = (char *)GetNextOption(local_optionIndices);
    outputCursor = outputCursor + 1;
    if (helpString != NULL) {
      formattedLength = 0;
      do {
        if (GlobalHelpSections[local_optionIndices[0] * 7 + 6] != &GLOBAL_SECTION_POINTER) {
          outputCursor[formattedLength + 3] = *helpString;
          formattedLength++;
        }
        helpString = (char *)GetNextOption(helpString, local_optionIndices);
      } while (helpString != NULL);
      if (formattedLength != 0) {
        outputCursor += formattedLength + 3;
        *(undefined2 *)(outputCursor + 1) = NEWLINE_INDENT;
      }
    }
    formattedLength = sprintf(outputCursor, " %s", additionalInfo);
    defaultIndicator = DEFAULT_OPTION_INDICATOR;
    outputCursor += formattedLength;
    hasOptions = GlobalOptionCount != 0;
    *outputCursor = ' ';
    if (hasOptions) {
      formattedLength = 0;
      currentOptionIndex = 0;
      subString = "                    ";
      do {
        temporaryStringPointer = (undefined *)((int)GlobalHelpSections + formattedLength);
        if (*temporaryStringPointer != &GLOBAL_SECTION_POINTER) {
          if (*(int *)(temporaryStringPointer + 4) == 8) {
            tempLength = sprintf(outputCursor, "%s:\n");
            outputCursor += tempLength;
          }
          else {
            tempLength = sprintf(outputCursor, "%s", *GlobalHelpSections);
            temporaryStringPointer = (undefined4 *)(outputCursor + tempLength);
            if (*(int *)((int)GlobalHelpSections + formattedLength + 4) == 2) {
              helpString = *(char **)(GlobalHelpSections + formattedLength);
              subString = strchr(helpString, ' ');
              if ((subString == NULL) &&
                 (subString = strchr(helpString, '='), temporaryStringPointer = UNRECOGNIZED_OPTION_POINTER, defaultIndicator = UNRECOGNIZED_OPTION_INDICATOR,
                 subString == NULL)) {
                tempLength += 6;
                *temporaryStringPointer = OPTION_DESCRIPTOR_PREFIX;
                *(undefined2 *)(temporaryStringPointer + 1) = *defaultIndicator;
                *(undefined *)(temporaryStringPointer + 2) = *temporaryStringPointer;
                temporaryStringPointer = (undefined4 *)(outputCursor + tempLength);
              }
            }
            stringOffset = sprintf((char *)temporaryStringPointer, "%.*s");
            stringOffset += sprintf(outputCursor + stringOffset + tempLength, "%s",
                                    *(undefined4 *)(GlobalHelpSections + formattedLength + 0x18));
            stringOffset += tempLength;
            defaultIndicator = (undefined2 *)(outputCursor + stringOffset);
            if (*(int *)(GlobalHelpSections + formattedLength + 0x10) != 0) {
              temporaryStringPointer = UNKNOWN_PLACEHOLDER;
              (**(code **)(GlobalHelpSections + formattedLength + 0x10))
                        (local_optionIndices, *(undefined4 *)(GlobalHelpSections + formattedLength + 0x14));
              tempLength = sprintf((char *)defaultIndicator, " (default: %s)", local_optionIndices);
              defaultIndicator = (undefined2 *)(outputCursor + tempLength + stringOffset);
            }
            outputCursor = (char *)((int)defaultIndicator + 1);
            *defaultIndicator = *DEFAULT_OPTION_INDICATOR;
          }
        }
        currentOptionIndex++;
        formattedLength += 0x1c;
      } while (currentOptionIndex < GlobalOptionCount);
    }
    *outputCursor = '\0';
  }
  return generatedString;
}
```

Please note that in some cases, the context of the original code is unclear due to the decompiled nature and lack of symbol information; therefore, assumptions are made. For example, I've had to assume some of the unknown symbol names like `UNK_0003d5f0`, `DAT_00068bec`, `FUN_0003db7c`, and `FUN_0003dbdc`, giving them placeholder names based on their perceived role in the code.

Wherever these are invoked or referred to, you'd want to replace them with meaningful names that correlate to their actual purposes once known.