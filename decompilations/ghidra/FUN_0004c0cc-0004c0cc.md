```c
void PrintErrorWithFormatting(int loggerHandle, int tokenStruct, int errorLevel, char *format)
{
  char *extractedToken;
  undefined4 lineNum;
  undefined4 charPosition;
  undefined4 totalChars;
  char formattedMessage[159];
  undefined nullTerminator1;
  char contextualMessage[159];
  undefined nullTerminator2;
  
  // If logger handle is not provided, exit function
  if (loggerHandle == 0) {
    return;
  }
  // Format the message using provided format and variadic arguments
  vsnprintf(formattedMessage, 0xA0, format, &stack0x00000000);
  nullTerminator1 = 0; // Set null terminator for formattedMessage buffer
  if (tokenStruct == 0) {
    // If token struct is not provided, use default values
    lineNum = 0xFFFFFFFF;
    extractedToken = formattedMessage;
    charPosition = 0xFFFFFFFF;
    totalChars = 0;
  }
  else {
    extractedToken = (char *)GetTokenString(tokenStruct + 0x28);
    lineNum = *(undefined4 *)(tokenStruct + 0x18);
    charPosition = *(undefined4 *)(tokenStruct + 0x1c);
    totalChars = *(undefined4 *)(tokenStruct + 0x24);
    if ((extractedToken == (char *)0x0) || (*extractedToken == '\0')) {
      // If the token string is empty, adjust error level and create message
      if (errorLevel == 8) {
        errorLevel = 6;
      }
      if (*(int *)(tokenStruct + 0x14) != -2) {
        snprintf(contextualMessage, 0xA0, "%s near end of file", formattedMessage);
        extractedToken = contextualMessage;
        nullTerminator2 = 0; // Set null terminator for contextualMessage buffer
        goto LogTheError;
      }
    }
    else if (*(uint *)(tokenStruct + 0x2c) < 0x15) {
      // If the token is less than a specific length, create message with token context
      snprintf(contextualMessage, 0xA0, "%s near \'%s\'", formattedMessage, extractedToken);
      extractedToken = contextualMessage;
      nullTerminator2 = 0; // Set null terminator for contextualMessage buffer
      goto LogTheError;
    }
    extractedToken = formattedMessage;
  }
LogTheError:
  // Log the error with all the extracted or defaulted information
  LogError(loggerHandle, lineNum, charPosition, totalChars, errorLevel, "%s", extractedToken);
  return;
}
```

I have renamed the symbols, variables, and function names to provide more context based on what can be inferred from the pseudo C code provided. I also added comments to better describe each section of code. Keep in mind that this is speculative, as the true functionality can only be completely understood with access to source code or more documentation.