```c
/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void CancelCurrentThreadIfNotSelf(void)
{
  pthread_t currentThreadId;
  void *controlStructurePtr;
  undefined4 logBuffer[2];
  char logMessage[14];
  
  controlStructurePtr = GlobalControlStructure;
  if ((GlobalControlStructure != NULL) &&
     (currentThreadId = pthread_self(), *(pthread_t *)((int)controlStructurePtr + 12) != currentThreadId)) {
    // Log only if the debug level is higher than 3
    if (DebugLevel > 3) {
      // Prepare a "cancel_thread" message for logging
      // Here memcpy could be utilized to copy string to logMessage
      logMessage[0] = 'c';
      logMessage[1] = 'a';
      logMessage[2] = 'n';
      logMessage[3] = 'c';
      logMessage[4] = 'e';
      logMessage[5] = 'l';
      logMessage[6] = '_';
      logMessage[7] = 't';
      logMessage[8] = 'h';
      logMessage[9] = 'r';
      logMessage[10] = 'e';
      logMessage[11] = 'a';
      logMessage[12] = 'd';
      logMessage[13] = '\0';
      // Log the cancel thread message
      Log(3, logMessage, 0);
      controlStructurePtr = GlobalControlStructure;
    }
    // If it's not the current thread, cancel and free it
    CancelThread(controlStructurePtr);
    free(GlobalControlStructure);
    GlobalControlStructure = NULL;
  }
  return;
}
```