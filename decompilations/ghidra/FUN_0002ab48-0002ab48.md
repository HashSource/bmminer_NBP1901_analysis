```c
undefined * createCustomDataPacket(size_t *pPacketSize, void *pConfigStruct, undefined4 configValue, undefined configFlag)
{
  size_t configTypeStrLen;
  size_t minerTypeStrLen;
  size_t minerVersionStrLen;
  undefined *pCreatedPacket;
  uint configTypeStrPaddedLen;
  int combinedLenWithConfigType;
  uint copySize;
  char *configType;
  char *minerType;
  char *minerVersion;
  int finalPacketSize;
  char *minerName;
  char debugMsgBuffer[2052];
  
  minerName = *(char **)((int)pConfigStruct + 0x120);
  configTypeStrLen = strlen(minerName);
  minerType = *(char **)((int)pConfigStruct + 0x134);
  minerTypeStrLen = strlen(minerType);
  minerVersion = *(char **)((int)pConfigStruct + 0x140);
  minerVersionStrLen = strlen(minerVersion);
  finalPacketSize = configTypeStrLen + minerTypeStrLen + 0x1cb + minerVersionStrLen;
  pCreatedPacket = (undefined *)calloc(1, finalPacketSize);
  if (pCreatedPacket != (undefined *)0x0) {
    *(undefined4 *)(pCreatedPacket + 1) = configValue;
    *pCreatedPacket = configFlag;
    memcpy(pCreatedPacket + 5, pConfigStruct, 0x1c0);
    configTypeStrLen = strlen(minerName);
    configTypeStrPaddedLen = configTypeStrLen + 1 & 0xff;
    pCreatedPacket[0x1c5] = (char)(configTypeStrLen + 1);
    memcpy(pCreatedPacket + 0x1c6, minerName, configTypeStrPaddedLen);
    configTypeStrLen = strlen(minerType);
    copySize = configTypeStrLen + 1 & 0xff;
    pCreatedPacket[configTypeStrPaddedLen + 0x1c6] = (char)(configTypeStrLen + 1);
    combinedLenWithConfigType = copySize + configTypeStrPaddedLen + 0x1c7;
    memcpy(pCreatedPacket + configTypeStrPaddedLen + 0x1c7, minerType, copySize);
    finalPacketSize = combinedLenWithConfigType + 1;
    minerVersionStrLen = strlen(minerVersion);
    copySize = minerVersionStrLen + 1 & 0xff;
    pCreatedPacket[combinedLenWithConfigType] = (char)(minerVersionStrLen + 1);
    memcpy(pCreatedPacket + finalPacketSize, minerVersion, copySize);
    
    // Conditional debug logging
    if ((globalDebugFlag1 != '\0') &&
       ((globalDebugFlag2 != '\0' || (globalDebugFlag3 != '\0')) || (6 < globalLoggingLevel))) {
      snprintf(debugMsgBuffer, 0x800, "need data size:%d, actual size:%d\n", finalPacketSize, copySize + finalPacketSize);
      debugLogFunction(7, debugMsgBuffer, 0);
    }
    *pPacketSize = finalPacketSize;
  }
  return pCreatedPacket;
}
```