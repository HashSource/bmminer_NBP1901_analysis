```c
void * ResizeArrayIfNeeded(int arrayStructPtr, int minCapacity, int performCopy)
{
  void *newArray;
  void *oldArray;
  uint currentCapacity;
  uint newCapacity;
  
  currentCapacity = *(uint *)(arrayStructPtr + 8); // Get current capacity from the structure
  oldArray = *(void **)(arrayStructPtr + 0x10); // Get the pointer to the old array from the structure
  if (currentCapacity < (uint)(minCapacity + *(int *)(arrayStructPtr + 0xc))) { // Check if the current capacity is enough
    newCapacity = currentCapacity << 1; // Double the current capacity
    if (newCapacity < currentCapacity + minCapacity) { // Make sure newCapacity is at least as large as currentCapacity+minCapacity
      newCapacity = currentCapacity + minCapacity; // Set newCapacity to the sum if it wasn't larger
    }
    newArray = (void *)AllocateMemory(newCapacity << 2); // Allocate a new array with the new capacity
    if (newArray == (void *)0x0) { // Check if the allocation failed
      oldArray = (void *)0x0; // If allocation failed, set the old array pointer to NULL
    }
    else {
      *(uint *)(arrayStructPtr + 8) = newCapacity; // Update the capacity in the structure
      *(void **)(arrayStructPtr + 0x10) = newArray; // Update the array pointer in the structure to the new array
      if (performCopy != 0) {
        memcpy(newArray, oldArray, *(int *)(arrayStructPtr + 0xc) << 2); // If performCopy is true, copy the old data to the new array
        FreeMemory(oldArray); // Free the old array's memory
        return *(void **)(arrayStructPtr + 0x10); // Return the pointer to the new array
      }
    }
  }
  return oldArray; // Return the pointer to the original array (which may be unchanged, or may now be NULL if allocation failed)
}

// Rename the decompiled functions to more meaningful names
void * AllocateMemory(size_t size); // Formerly FUN_0004d880, allocates memory of a given size
void FreeMemory(void *ptr); // Formerly FUN_0004d898, frees previously allocated memory
```

Please note that `AllocateMemory` and `FreeMemory` are placeholder names for the memory allocation and deallocation functions that correspond to `FUN_0004d880` and `FUN_0004d898`, respectively. These should be replaced with the actual function names if known.