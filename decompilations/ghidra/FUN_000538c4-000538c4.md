```c
#include <pthread.h>

// Function prototypes
void LogError(int level, const char *file, int line, const char *format, ...);
void *FetchCategory(void *categoryTableConfig, const char *categoryName, undefined4 userSpecified);

// Global variables
void *gCategoryTableConfig;
void *gCurrentCategory;
pthread_rwlock_t gCategoryLock;

// Constant definitions
#define ERROR_LEVEL 2  // Error log level
#define SUCCESS 0  // Success return code
#define FAILURE 0xffffffff  // Failure return code

undefined4 SetLoggingCategory(int categoryNameString)
{
  int lockResult;
  int unlockResult;
  
  if (categoryNameString == 0) {
    LogError(ERROR_LEVEL, "src/zlog.c", 377, "categoryName is null or 0");
  }
  else {
    LogError(0, "src/zlog.c", 379, "------SetLoggingCategory[%s] start------", categoryNameString);
    lockResult = pthread_rwlock_wrlock(&gCategoryLock);
    if (lockResult == SUCCESS) {
      if (gCategoryTableConfig == 0) {
        LogError(ERROR_LEVEL, "src/zlog.c", 387, "never call zlog_init() or SetLoggingCategory() before", categoryNameString);
      }
      else {
        gCurrentCategory = FetchCategory(gCategoryTableConfig, categoryNameString, *(undefined4 *)(DATA_SEGMENT + 0x2448));
        if (gCurrentCategory != 0) {
          LogError(0, "src/zlog.c", 400, "------SetLoggingCategory[%s] end, success------ ", categoryNameString);
          unlockResult = pthread_rwlock_unlock(&gCategoryLock);
          if (unlockResult != SUCCESS) {
            LogError(ERROR_LEVEL, "src/zlog.c", 403, "pthread_rwlock_unlock fail, rc=[%d]", unlockResult);
            return FAILURE;
          }
          return SUCCESS;
        }
        LogError(ERROR_LEVEL, "src/zlog.c", 396, "FetchCategory[%s] fail", categoryNameString);
      }
      LogError(ERROR_LEVEL, "src/zlog.c", 408, "------SetLoggingCategory[%s] end, fail------ ", categoryNameString);
      unlockResult = pthread_rwlock_unlock(&gCategoryLock);
      if (unlockResult != SUCCESS) {
        LogError(ERROR_LEVEL, "src/zlog.c", 411, "pthread_rwlock_unlock fail, rc=[%d]", unlockResult);
        return FAILURE;
      }
    }
    else {
      LogError(ERROR_LEVEL, "src/zlog.c", 382, "pthread_rwlock_wrlock fail, rc[%d]", lockResult);
    }
  }
  return FAILURE;
}
```