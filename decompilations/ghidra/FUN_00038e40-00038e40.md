```c
/* WARNING: This function was decompiled using Ghidra from an ARM binary running on a Bitmain Antminer hardware.
   The original function names were renamed for clarity and comments were added to facilitate understanding of the code. */

// Global debug level, determines the verbosity of debug messages (0: silent, 1-4: increasing verbosity)
extern int gDebugLevel; 

// Pointer to the memory allocated for a pattern test
extern void *gPatternTestMemory;

// Function to log a message at a specific debug level
extern void LogDebugMessage(int debugLevel, char *message, int messageLength);

// Function to free memory previously allocated
extern void FreeMemory(void *memory);

void CheckAndFreePatternTestMemory(void)
{
  char debugExitPattern[36]; // Stack buffer to hold the "Pattern test exit" debug message
  char debugFreeingPatternMessage[36]; // Stack buffer to hold the "Free memory for pattern test" debug message
  
  // Check if debug level is less than 5
  if (gDebugLevel < 5)
  {
    if (gPatternTestMemory == NULL)
    {
      // If no memory is allocated for pattern test, return immediately
      return;
    }
    // Else, proceed to freeing memory and logging if applicable
    goto FreePatternTestMemory;
  }
  else
  {
    // Debug level is 5 or higher, prepare a "Pattern test exit" debug message for logging
    memcpy(debugExitPattern, "DEBUG: Pattern test exit.\0", 36);
    
    // Log the "Pattern test exit" message
    LogDebugMessage(4, debugExitPattern, 0);
    
    // Check if pattern test memory is allocated
    if (gPatternTestMemory != NULL)
    {
      goto FreePatternTestMemory;
    }
    
    // If debug level is less than 5, return immediately
    if (gDebugLevel < 5)
    {
      return;
    }
    // Debug level is 5 or higher, prepare a "Free memory for pattern test" debug message for logging
    memcpy(debugFreeingPatternMessage, "DEBUG: Free memory for pattern test.\0", 36);
    
    // Log the "Free memory for pattern test" message
    LogDebugMessage(4, debugFreeingPatternMessage, 0);
  }

  // If no memory is allocated for the pattern test, there's nothing to do, return immediately
  if (gPatternTestMemory == NULL)
  {
    return;
  }

FreePatternTestMemory:
  // Free the memory allocated for the pattern test
  FreeMemory(gPatternTestMemory);
  
  // Set the global pattern test memory pointer to NULL to indicate that the memory has been freed
  gPatternTestMemory = NULL;
}
```