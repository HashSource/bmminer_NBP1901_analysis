```c
void FreeMemoryResources(void **resourcePtr)
{
  int index;
  void *internalPtr;
  void *externalResource;
  int totalResources;
  
  // Return early if the resource pointer is NULL.
  if (resourcePtr == NULL) {
    return;
  }
  
  // Get the pointer to the internal resources.
  externalResource = *resourcePtr;
  
  // If there is a callback function provided and
  // there are resources to free, iterate and free them.
  if ((resourcePtr[3] != NULL) && (internalPtr = resourcePtr[1], 0 < (int)internalPtr)) {
    totalResources = 0;
    do {
      index = totalResources * 4;
      totalResources = totalResources + 1;
      if (*(int *)((int)externalResource + index) != 0) {
        // Call the callback function to handle each resource.
        ((void (*)(void))resourcePtr[3])();
        // Update the externalResource and internalPtr with the current state.
        externalResource = *resourcePtr;
        internalPtr = resourcePtr[1];
      }
    } while (totalResources < (int)internalPtr);
  }
  
  // If externalResource still points to something, free it.
  if (externalResource != NULL) {
    free(externalResource);
  }
  
  // Finally, free the resource pointer itself.
  free(resourcePtr);
  return;
}
```