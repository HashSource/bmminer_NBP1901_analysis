```c
short GetChainBomVersion(int chainIndex) {
    char debugMessageBuffer;
    uint32_t globalChainConfigPtr = gvar_7F814;
    if(globalChainConfigPtr == 0 || *(char*)(globalChainConfigPtr + 28) == 0) {
        if(gvar_7EB9C <= 3) {
            return 0xffff;
        }
        snprintf(&debugMessageBuffer, 0x800, "No bom version, chain = %d.\n", chainIndex);
        sub_2E584(3, &debugMessageBuffer, 0);
        return 0xffff;
    }
    uint32_t chainConfig = *(uint32_t*)(chainIndex * 4 + globalChainConfigPtr);
    return (uint32_t)((uint16_t)*(char*)(chainConfig + 30) | ((uint16_t)*(char*)(chainConfig + 29) << 8));
}
```