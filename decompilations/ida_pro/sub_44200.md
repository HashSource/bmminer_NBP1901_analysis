```c
int __fastcall writeDataToEeprom(unsigned int chainIndex, unsigned __int8 startValue, int startAddress, int length)
{
  int returnValue; // r8
  int tempAddress; // r3
  int fileDescriptor; // r0
  int i; // r9
  unsigned __int8 currentByte; // [sp+Fh] [bp-821h] BYREF
  char logBuffer[2080]; // [sp+10h] [bp-820h] BYREF

  if ( chainIndex > 0xF )
  {
    snprintf(logBuffer, 0x800u, "%s: Bad eeprom param, input chain is %d\n", "eeprom_write", chainIndex);
    returnValue = -2147483391;
    logMessage(0, logBuffer, 0);
    return returnValue;
  }
  if ( !chainEepromStatusArray[2 * chainIndex + 1] )
  {
    returnValue = openEepromDevice(chainIndex);
    if ( returnValue < 0 )
    {
      snprintf(logBuffer, 0x800u, "%s: auto exec eeprom_open, but chain %d open eeprom failed\n", "eeprom_write", chainIndex);
      logMessage(0, logBuffer, 0);
      return returnValue;
    }
  }
  if ( length )
  {
    i = startAddress + length;
    while ( 1 )
    {
      tempAddress = startAddress;
      fileDescriptor = chainEepromStatusArray[2 * chainIndex];
      ++startAddress;
      currentByte = startValue++;
      if ( writeI2C(fileDescriptor, &currentByte, 1, tempAddress, 1) != 1 )
        break;
      if ( i == startAddress )
        goto LABEL_10;
    }
    returnValue = -2147483392;
    snprintf(logBuffer, 0x800u, "fail to write eeprom by iic, chain:%d, addr: %d", chainIndex, currentByte);
    logMessage(0, logBuffer, 0);
    return returnValue;
  }
LABEL_10:
  sleep(1u);
  return 0;
}
```