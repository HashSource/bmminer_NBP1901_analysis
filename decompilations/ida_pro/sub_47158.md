```c
int __fastcall readVoltageFromPIC(unsigned int chainIndex, _DWORD *voltageValues, int voltageType)
{
  int lockResult; // r5
  int result; // r5
  unsigned int checksum; // r3
  unsigned __int16 value16; // r2
  int readResult; // r5
  __int16 firstValue; // r1
  int *valueIterator; // r2
  unsigned int tempChecksum; // r3
  __int16 nextValue; // t1
  unsigned __int16 revValue1; // r2
  unsigned __int16 revValue2; // r3
  int cmdFrameStart; // [sp+14h] [bp-834h] BYREF
  char commandCode; // [sp+18h] [bp-830h]
  char targetCommand; // [sp+19h] [bp-82Fh]
  int commandBuffer[3]; // [sp+1Ch] [bp-82Ch] BYREF
  char logBuffer[2080]; // [sp+28h] [bp-820h] BYREF

  if ( chainIndex > 0xF )
  {
    snprintf(logBuffer, 0x800u, "%s: Bad pic param, input chain is %d\n", "readVoltageFromPIC", chainIndex);
    result = -2147483135;
    logMessage(0, logBuffer, 0);
    return result;
  }
  if ( !dword_99EE48[2 * chainIndex + 1] )
  {
    result = openPIC(chainIndex);
    if ( result < 0 )
    {
      snprintf(logBuffer, 0x800u, "%s: auto exec open_pic, but chain %d open eeprom failed\n", "readVoltageFromPIC", chainIndex);
      logMessage(0, logBuffer, 0);
      return result;
    }
  }
  if ( voltageType == 3 )
  {
    pthread_mutex_lock(&mutexForPIC);
    readResult = dword_99EE48[2 * chainIndex];
    commandCode = 0;
    cmdFrameStart = 923052629;
    memset(commandBuffer, 0, 11);
    targetCommand = 59;
    if ( writeI2C(readResult, (int)&cmdFrameStart, 6) != 6 )
    {
      snprintf(logBuffer, 0x800u, "%s write iic err\n", "readVoltage");
      goto HandleError;
    }
    usleep(0x493E0u);
    result = readI2C(readResult, commandBuffer, 11);
    if ( result != 11 )
    {
      snprintf(logBuffer, 0x800u, "%s read iic err\n", "readVoltage");
      goto HandleError;
    }
    firstValue = LOBYTE(commandBuffer[0]);
    if ( LOBYTE(commandBuffer[0]) != 11 || BYTE1(commandBuffer[0]) != 55 )
    {
      snprintf(
        logBuffer,
        0x800u,
        "%s failed! read_back_data[0] = 0x%02x, read_back_data[1] = 0x%02x\n\n",
        "readVoltage",
        LOBYTE(commandBuffer[0]),
        BYTE1(commandBuffer[0]));
      result = -1;
      logMessage(0, logBuffer, 0);
      goto ReleaseLock;
    }
    valueIterator = commandBuffer;
    tempChecksum = 0;
    while ( 1 )
    {
      tempChecksum = (unsigned __int16)(tempChecksum + firstValue);
      if ( valueIterator == &commandBuffer[2] )
        break;
      nextValue = *((unsigned __int8 *)valueIterator + 1);
      valueIterator = (int *)((char *)valueIterator + 1);
      firstValue = nextValue;
    }
    if ( BYTE1(commandBuffer[2]) != tempChecksum >> 8 || BYTE2(commandBuffer[2]) != (unsigned __int8)tempChecksum )
    {
      snprintf(logBuffer, 0x800u, "%s failed 2!\n", "readVoltage");
      goto HandleError;
    }
    revValue1 = __rev16(*(unsigned __int16 *)((char *)&commandBuffer[1] + 1));
    revValue2 = __rev16(*(unsigned __int16 *)((char *)&commandBuffer[1] + 3));
    *voltageValues = (unsigned __int16)__rev16(*(unsigned __int16 *)((char *)commandBuffer + 3));
    voltageValues[1] = revValue1;
    voltageValues[2] = revValue2;
  }
  else
  {
    if ( voltageType != 1 )
    {
      result = -2147483135;
      snprintf(logBuffer, 0x800u, "%s failed: parameters error!\n", "readVoltageFromPIC");
      logMessage(0, logBuffer, 0);
      return result;
    }
    pthread_mutex_lock(&mutexForPIC);
    lockResult = dword_99EE48[2 * chainIndex];
    commandCode = 0;
    commandBuffer[0] = 0;
    cmdFrameStart = 973384277;
    *(int *)((char *)commandBuffer + 3) = 0;
    targetCommand = 62;
    if ( writeI2C(lockResult, (int)&cmdFrameStart, 6) != 6 )
    {
      snprintf(logBuffer, 0x800u, "%s write iic err\n", "readADC6Voltage");
HandleError:
      result = -1;
      logMessage(0, logBuffer, 0);
      goto ReleaseLock;
    }
    usleep(0x493E0u);
    result = readI2C(lockResult, commandBuffer, 7);
    if ( result != 7 )
    {
      snprintf(logBuffer, 0x800u, "%s read iic err\n", "readADC6Voltage");
      goto HandleError;
    }
    if ( LOBYTE(commandBuffer[0]) != 7 || BYTE1(commandBuffer[0]) != 58 || BYTE2(commandBuffer[0]) != 1 )
    {
      snprintf(
        logBuffer,
        0x800u,
        "%s failed! read_back_data[0] = 0x%02x, read_back_data[1] = 0x%02x, read_back_data[2] = 0x%02x\n\n",
        "readADC6Voltage",
        LOBYTE(commandBuffer[0]),
        BYTE1(commandBuffer[0]),
        BYTE2(commandBuffer[0]));
      result = -1;
      logMessage(0, logBuffer, 0);
      goto ReleaseLock;
    }
    checksum = HIBYTE(commandBuffer[0]) + LOBYTE(commandBuffer[1]) + 66;
    value16 = __rev16(*(unsigned __int16 *)((char *)commandBuffer + 3));
    if ( BYTE1(commandBuffer[1]) != checksum >> 8 || BYTE2(commandBuffer[1]) != (unsigned __int8)checksum )
    {
      snprintf(logBuffer, 0x800u, "%s failed 2!\n", "readADC6Voltage");
      goto HandleError;
    }
    *voltageValues = value16;
  }
ReleaseLock:
  pthread_mutex_unlock(&mutexForPIC);
  return result;
}
```