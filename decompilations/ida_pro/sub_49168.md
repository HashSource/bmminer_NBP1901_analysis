```c
void getVoltage()
{
  int logContext; // r6
  int powerCommandData; // [sp+8h] [bp-820h] BYREF
  __int16 powerCommandLength; // [sp+Ch] [bp-81Ch]
  int powerCommandResponse[2]; // [sp+10h] [bp-818h] BYREF
  char logBuffer[2064]; // [sp+18h] [bp-810h] BYREF

  logContext = globalLogContext;
  if ( globalLogContext || initializePowerModuleIfNeeded() >= 0 )
  {
    powerCommandResponse[1] = 0;
    powerCommandResponse[0] = 0;
    powerCommandData = 50637397;
    powerCommandLength = 7;
    if ( sendPowerCommandWithRetries(globalPowerModuleIdentifier, (unsigned __int8 *)&powerCommandData, 6u, (unsigned __int8 *)powerCommandResponse, 8u) )
    {
      strcpy(logBuffer, "get AD conversion N failed\n");
      logEvent(0, logBuffer, 0);
      strcpy(logBuffer, "cannot get voltage\n");
      logEvent(0, logBuffer, 0);
    }
    else
    {
      processSuccessfulVoltageReading();
    }
  }
  else
  {
    snprintf(logBuffer, 0x800u, "%s: auto exec bitmain_power_open, but open power failed\n", "bitmain_get_voltage");
    logEvent(logContext, logBuffer, logContext);
  }
}
```