```c
int __fastcall checkDomainBalance(int chainIndex)
{
  unsigned int averageNonceCount; // r4
  int timeInterval1; // r0
  unsigned int adjustedNonceCount; // r4
  int timeInterval2; // r0
  unsigned int thresholdNonceCount; // r7
  int totalTimeInterval; // r10
  int i; // r5
  unsigned int j; // r4
  unsigned int currentDomainIndex; // r2
  int isUnbalanced; // [sp+14h] [bp-82Ch]
  char logBuffer[2088]; // [sp+18h] [bp-828h] BYREF

  averageNonceCount = *(_DWORD *)(globalNonceCountsArray + 4 * (chainIndex + 2107394));
  timeInterval1 = getTimeInterval();
  adjustedNonceCount = adjustNonceCount(averageNonceCount, timeInterval1);
  timeInterval2 = getTimeInterval();
  thresholdNonceCount = adjustNonceCount(adjustedNonceCount, timeInterval2) >> 1;
  totalTimeInterval = getTimeInterval();
  if (!totalTimeInterval)
    return 0;
  
  isUnbalanced = 0;
  for (i = 0; i != totalTimeInterval; ++i)
  {
    for (j = 0; getTimeInterval() > j; ++j)
    {
      currentDomainIndex = j + i * getTimeInterval();
      if (*(_DWORD *)(globalNonceCountsArray + 4 * (domainOffsetArray + 64 * chainIndex + currentDomainIndex)) < thresholdNonceCount)
      {
        isUnbalanced = 1;
        if ((unsigned int)globalLogLevel > 3)
        {
          snprintf(
            logBuffer,
            sizeof(logBuffer),
            "Domain unbalance happen, chain = %d, domain = %d, nonce_num_domain = %d, threshold = %d.\n",
            chainIndex,
            currentDomainIndex,
            *(_DWORD *)(globalNonceCountsArray + 4 * (domainOffsetArray + 64 * chainIndex + currentDomainIndex)),
            thresholdNonceCount);
          logMessage(3, logBuffer, 0);
        }
      }
    }
  }
  return isUnbalanced;
}
```