```c
int __fastcall getVoltageLevel(int chainIndex, int modeIndex, int *voltageLevelOutput)
{
  int currentVoltage; // r2
  int knownVoltageCode; // r3
  int *voltageMap; // r4
  __int64 voltageFromConfig; // r6
  int registeredVoltage; // r0
  bool voltageMatch; // r2
  const char *chipModelName; // r0
  int chipModelComparisonResult; // r0
  int adjustedVoltage; // r2
  bool isVoltage7800Series; // r2
  int reportedResult; // [sp+Ch] [bp-834h]
  int voltageReading; // [sp+14h] [bp-82Ch] BYREF
  char errorMessageBuffer[2088]; // [sp+18h] [bp-828h] BYREF

  if ( globalChainConfigs[0] && *(_BYTE *)(globalChainConfigs[0] + 28) )
  {
    currentVoltage = *(_DWORD *)(globalChainConfigs[0] + 4 * chainIndex);
    knownVoltageCode = 1127301685;
    voltageMap = &dword_7F81C;
    LODWORD(voltageFromConfig) = *(unsigned __int16 *)(currentVoltage + 35);
    HIDWORD(voltageFromConfig) = *(unsigned __int16 *)(currentVoltage + 37);
    do
    {
      registeredVoltage = *(voltageMap - 1);
      if ( registeredVoltage )
      {
        voltageMatch = registeredVoltage == (_DWORD)voltageFromConfig;
        if ( !*voltageMap )
          voltageMatch = 0;
        if ( *voltageMap == HIDWORD(voltageFromConfig) && voltageMatch )
        {
          reportedResult = knownVoltageCode;
          chipModelName = (const char *)sub_1E0C0();
          chipModelComparisonResult = strcmp(chipModelName, "NBS2003");
          knownVoltageCode = reportedResult;
          if ( chipModelComparisonResult )
            goto LABEL_19;
          memset(errorMessageBuffer, 0, 16);
          voltageReading = 0;
          performVoltageRead(chainIndex, errorMessageBuffer, 0x10u);
          checkVoltageRange(chainIndex, &voltageReading);
          knownVoltageCode = reportedResult;
          if ( *(_DWORD *)errorMessageBuffer != 810955078 || *(_DWORD *)&errorMessageBuffer[4] != reportedResult || errorMessageBuffer[8] != 49 || (unsigned int)(voltageReading - 3) > 1 )
            goto LABEL_19;
          isVoltage7800Series = (_DWORD)voltageFromConfig == 1280;
          if ( voltageFromConfig == 0x28A00000500LL )
            goto LABEL_33;
          if ( (_DWORD)voltageFromConfig == 1300 )
            isVoltage7800Series = 1;
          if ( HIDWORD(voltageFromConfig) == 625 && isVoltage7800Series )
          {
LABEL_33:
            adjustedVoltage = 1260;
            if ( voltageReading != 3 )
              adjustedVoltage = 1240;
          }
          else
          {
LABEL_19:
            adjustedVoltage = voltageFromConfig;
          }
          if ( voltageLevelOutput )
          {
            *voltageLevelOutput = adjustedVoltage;
            return 0;
          }
        }
      }
      voltageMap += 2;
    }
    while ( &dword_7F8BC != voltageMap );
    if ( (unsigned int)globalLogLevel > 4 )
    {
      strcpy(errorMessageBuffer, "voltage level not match");
      logMessage(4, errorMessageBuffer, 0);
    }
    return -2;
  }
  else
  {
    if ( (unsigned int)globalLogLevel > 4 )
    {
      snprintf(errorMessageBuffer, 0x800u, "No work mode voltage, chain = %d, mode = %d.\n", chainIndex, modeIndex);
      logMessage(4, errorMessageBuffer, 0);
    }
    return -1;
  }
}
```