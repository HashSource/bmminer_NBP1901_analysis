```c
int __fastcall initializeMinerHardware(int tokenType, int tokenParam1, int tokenParam2, int tokenParam3, int tokenParam4, int tokenParam5, int tokenParam6, int tokenParam7)
{
  int crcResult; // r0
  int boardIndex; // r5
  int hardwareInitStatus; // r8
  int crcCalculated; // r0
  unsigned int frequency; // r7
  int voltageCalculated; // r0
  unsigned int minFrequency; // r3
  int finalVoltage; // r3
  int eepromReadResult; // r0
  unsigned __int8 temperatureSensorType; // r0
  int bringUpTemperature; // r5
  int temperatureSensorStatus; // r0
  int pwmValue; // r10
  unsigned int bitIndex; // r6
  _QWORD *hashBoardPointer; // r11
  int optimalVoltage; // r7
  int socTypeResult; // r0
  int socTypeId; // r1
  int socTypeIdDuplicate; // r1
  int hardwareTypeAdjustedVoltage; // r6
  const char *hardwareName; // r0
  float voltageAdjustmentFactor; // s15
  int adcChannel; // r2
  __int64 adcVoltageCalculation; // r0
  int boardId; // r5
  int adcChannelRead; // r0
  unsigned int minEepromFrequency; // r6
  int finalFrequencyAdjust; // r0
  int tempSensorCalibration; // r0
  int voltageAdjustment; // r3
  int newVoltage; // r0
  int adjustedVoltage; // r6
  int optimalFrequency; // r8
  const char *socName; // r0
  const char *socNameDuplicate1; // r0
  const char *socNameDuplicate2; // r0
  float voltageAdjustmentFactorDuplicate; // s15
  int newVoltageDuplicate; // r2
  unsigned int minEepromFrequencyDuplicate; // r6
  int voltageAdjustedForTemperature; // r2
  int finalVoltageAdjusted; // r7
  const char *hardwareType; // r0
  unsigned int crcCalculationContext; // [sp+14h] [bp-85Ch] BYREF
  int TokenType; // [sp+18h] [bp-858h]
  int TokenParam1; // [sp+1Ch] [bp-854h]
  int TokenParam2; // [sp+20h] [bp-850h]
  int TokenParam3; // [sp+24h] [bp-84Ch]
  int TokenParam4; // [sp+28h] [bp-848h]
  int TokenParam5; // [sp+2Ch] [bp-844h]
  int TokenParam6; // [sp+30h] [bp-840h]
  int TokenParam7; // [sp+34h] [bp-83Ch]
  char logBuffer[2088]; // [sp+38h] [bp-838h] BYREF
  int tokenTypeBuffer; // [sp+860h] [bp-10h]
  int tokenParam1Buffer; // [sp+864h] [bp-Ch]
  int tokenParam2Buffer; // [sp+868h] [bp-8h]
  int tokenParam3Buffer; // [sp+86Ch] [bp-4h]

  tokenTypeBuffer = tokenType;
  tokenParam1Buffer = tokenParam1;
  tokenParam2Buffer = tokenParam2;
  tokenParam3Buffer = tokenParam3;
  TokenType = tokenType;
  TokenParam1 = tokenParam1;
  TokenParam2 = tokenParam2;
  TokenParam3 = tokenParam3;
  TokenParam4 = tokenParam4;
  TokenParam5 = tokenParam5;
  TokenParam6 = tokenParam6;
  TokenParam7 = tokenParam7;
  *(_DWORD *)&globalTokenBuffer = tokenType;
  *(_DWORD *)&globalTokenBuffer1 = tokenParam1;
  globalTokenParam2Buffer = tokenParam2;
  *(_DWORD *)&globalTokenParam3Buffer = tokenParam3;
  globalTokenParam4Buffer = tokenParam4;
  globalTokenParam5Buffer = tokenParam5;
  globalTokenParam6Buffer = tokenParam6;
  globalTokenParam7Buffer = tokenParam7;
  if ( (unsigned __int8)tokenType != 81 )
  {
    if ( (unsigned int)globalLogLevel <= 4 )
      return 0;
    snprintf(logBuffer, 0x800u, "config_parameter.token_type != 0x%x, it is 0x%x\n", 81, (unsigned __int8)TokenType);
LABEL_5:
    logMessage(4, logBuffer, 0);
    return 0;
  }
  crcResult = getCRCCheck((int)&globalTokenBuffer, 30);
  if ( crcResult != (unsigned __int16)globalCRCCheck )
  {
    if ( (unsigned int)globalLogLevel <= 4 )
      return 0;
    snprintf(logBuffer, 0x800u, "config_parameter.crc = 0x%x, but we calculate it as 0x%x\n", (unsigned __int16)globalCRCCheck, crcResult);
    goto LABEL_5;
  }
  if ( (unsigned int)globalLogLevel > 3 )
  {
    snprintf(
      logBuffer,
      0x800u,
      "fan_eft : %d  fan_pwm : %d\n",
      ((unsigned __int8)globalTokenBuffer1 >> 1) & 1,
      (unsigned __int8)globalFanPWMValue);
    logMessage(3, logBuffer, 0);
  }
  boardIndex = globalHardwareStatus;
  if ( !globalHardwareStatus )
  {
    hardwareInitStatus = (unsigned __int8)initializeHardware(161);
    do
    {
      crcCalculated = boardIndex;
      frequency = (unsigned __int8)boardIndex++;
      if ( checkBoardHardware(crcCalculated) )
        runBoardInitialization(frequency);
    }
    while ( boardIndex != 4 );
    if ( hardwareInitStatus )
      return 0;
  }
  if ( (unsigned __int8)checkSystemInitialized() )
    return 0;
  if ( globalFlag1 && (globalTokenBuffer1 & 0x10) != 0 )
  {
    globalConfigVoltage = (unsigned __int16)globalConfigVoltageValue;
    globalConfigVoltage = getOptimalVoltage();
LABEL_22:
    if ( (unsigned int)globalLogLevel > 3 )
    {
      snprintf(logBuffer, 0x800u, "fixed working voltage = %d\n", globalConfigVoltage);
      logMessage(3, logBuffer, 0);
    }
    goto LABEL_24;
  }
  voltageCalculated = getOptimalVoltage();
  if ( voltageCalculated > 0 )
  {
    globalConfigVoltage = voltageCalculated;
    goto LABEL_22;
  }
  if ( (_BYTE)voltageCalculated )
    return 0;
LABEL_24:
  if ( (unsigned __int8)verifyMinerHardware() )
    return 0;
  if ( globalFlag1 && (globalTokenBuffer1 & 8) != 0 )
  {
    minFrequency = 0;
    optimalFrequency = 0;
    globalConfigFrequency = (unsigned __int16)globalConfigFrequencyValue;
    do
    {
      if ( checkBoardHardware(optimalFrequency) && !setOptimalBoardFrequency(optimalFrequency, (unsigned __int8)globalConfigFrequency, (int *)&crcCalculationContext) )
      {
        if ( minFrequency )
        {
          if ( minFrequency >= crcCalculationContext )
            minFrequency = crcCalculationContext;
        }
        else
        {
          minFrequency = crcCalculationContext;
        }
      }
      ++optimalFrequency;
    }
    while ( optimalFrequency != 4 );
    finalVoltage = globalLogLevel;
    if ( (unsigned int)globalLogLevel > 3 )
    {
      snprintf(logBuffer, 0x800u, "min freq in eeprom = %d\n", minFrequency);
      logMessage(3, logBuffer, 0);
      finalVoltage = globalLogLevel;
    }
    if ( minFrequency && minFrequency > 0 )
    {
      globalConfigFrequency = minFrequency;
    }
    else
    {
      if ( finalVoltage > 3 )
      {
        strcpy(logBuffer, "failed to load freq in eeprom, using default");
        logMessage(3, logBuffer, 0);
      }
      finalVoltage = globalLogLevel;
      globalConfigFrequency = 200;
    }
  }
  else
  {
    finalVoltage = globalLogLevel;
    globalConfigFrequency = 200;
  }
  if ( finalVoltage > 3 )
  {
    snprintf(logBuffer, 0x800u, "fixed frequency is %d\n", globalConfigFrequency);
    logMessage(3, logBuffer, 0);
  }
  eepromReadResult = globalConfigFrequency;
  if ( globalConfigFrequency == 3 )
  {
    hardwareTypeAdjustedVoltage = globalConfigVoltage;
    hardwareName = getHardwareType();
    if ( !strcmp(hardwareName, "NBS1902")
      || (socName = getHardwareType(), !strcmp(socName, "NBS1902L"))
      || (socNameDuplicate1 = getHardwareType(), !strcmp(socNameDuplicate1, "NBT1903")) )
    {
      voltageAdjustmentFactor = (float)globalConfigVoltage * 0.91;
      if ( voltageAdjustmentFactor < 1200.0 )
        finalVoltage = 1200;
      else
        finalVoltage = (int)voltageAdjustmentFactor;
      adcChannel = (hardwareTypeAdjustedVoltage - finalVoltage) >> 31;
      adcVoltageCalculation = 1717986919LL * (hardwareTypeAdjustedVoltage - finalVoltage);
      globalConfigVoltage = finalVoltage;
      eepromReadResult = globalConfigFrequency;
      globalConfigFrequency = (unsigned int)((double)(unsigned int)globalConfigFrequency - (double)((SHIDWORD(adcVoltageCalculation) >> 2) - adcChannel) * 12.5);
    }
    else
    {
      socNameDuplicate2 = getHardwareType();
      if ( !strcmp(socNameDuplicate2, "NBP1901") || (hardwareType = getHardwareType(), !strcmp(hardwareType, "NBP1901L")) )
      {
        voltageAdjustmentFactorDuplicate = (float)globalConfigVoltage * 0.91;
        if ( voltageAdjustmentFactorDuplicate >= 1200.0 )
          newVoltageDuplicate = (int)voltageAdjustmentFactorDuplicate;
        else
          newVoltageDuplicate = 1200;
        globalConfigVoltage = newVoltageDuplicate;
        eepromReadResult = globalConfigFrequency;
        globalConfigFrequency -= 10 * ((hardwareTypeAdjustedVoltage - newVoltageDuplicate) / 10);
      }
      else
      {
        eepromReadResult = globalConfigFrequency;
      }
    }
  }
  if ( eepromReadResult == 1 || globalConfigVoltage <= 0 )
  {
    configurePWM();
    resetASICFrequency(0);
    verifyTemperatureSensor();
  }
  else
  {
    pwmValue = checkFanStatus();
    if ( (unsigned __int8)temperatureSensorCalibration(pwmValue) )
    {
      setFlagForTemperatureSensor(1);
      displayErrorMessage(0xEu, "Can't get temperature sensor type!");
    }
    else
    {
      setFlagForTemperatureSensor(0);
    }
  }
  bringUpTemperature = getBringUpTemperatureValue();
  globalTemperatureValue = bringUpTemperature;
  if ( (unsigned int)globalLogLevel > 3 )
  {
    snprintf(logBuffer, 0x800u, "Bring up temperature is %d\n", bringUpTemperature);
    logMessage(3, logBuffer, 0);
    if ( !globalKeyInterrupt )
      goto LABEL_36;
    if ( (unsigned int)globalLogLevel > 3 )
    {
      strcpy(logBuffer, "press any key to start rising frequency...");
      logMessage(3, logBuffer, 0);
    }
  }
  else if ( !globalKeyInterrupt )
  {
    goto LABEL_36;
  }
  IO_getc((_IO_FILE *)stdin);
LABEL_36:
  pthread_mutex_lock(&globalMutex);
  setInitialASICFrequency(12000000);
  pthread_mutex_unlock(&globalMutex);
  if ( globalFlag2 )
  {
    if ( globalConfigVoltage > 0 && checkVoltageAccuracy() != globalConfigVoltage )
    {
      tempSensorCalibration = getBringUpTemperatureValue();
      if ( tempSensorCalibration <= 19 )
        voltageAdjustment = globalFlag3 & 1;
      else
        voltageAdjustment = 0;
      if ( voltageAdjustment )
      {
        minEepromFrequencyDuplicate = 100;
        voltageAdjustedForTemperature = 100 * (20 - tempSensorCalibration);
        if ( voltageAdjustedForTemperature < 4000 )
          minEepromFrequencyDuplicate = voltageAdjustedForTemperature / 0x28u;
        finalVoltageAdjusted = minEepromFrequencyDuplicate + globalConfigVoltage;
        if ( finalVoltageAdjusted > getMaxVoltageValue() )
          newVoltage = getMaxVoltageValue();
        else
          newVoltage = minEepromFrequencyDuplicate + globalConfigVoltage;
      }
      else
      {
        newVoltage = globalConfigVoltage;
      }
      updateVoltageSetting(newVoltage);
      verifyTemperatureSensor();
    }
  }
  else
  {
    adjustVoltageSetting();
  }
  verifyTemperatureSensor();
  if ( checkHardwareIsS9() == 2 )
  {
    for ( boardId = 0; boardId != 4; ++boardId )
    {
      adcChannelRead = boardId;
      bitIndex = (unsigned __int8)boardId;
      if ( checkBoardHardware(adcChannelRead) )
      {
        temperatureSensorType = checkFanStatus();
        configureTemperatureSensor(bitIndex, 19 * temperatureSensorType, 0);
        tempSensorCalibration = checkFanStatus();
        configureTemperatureSensor(bitIndex, 55 * tempSensorCalibration, 0);
      }
    }
  }
  displayInitializationMessage(1u, "soc init done!");
  temperatureSensorType = checkTemperatureSensorInitialization();
  hardwareInitStatus = temperatureSensorType;
  if ( temperatureSensorType )
    return 0;
  do
  {
    if ( checkBoardHardware(hardwareInitStatus) )
    {
      optimalVoltage = 0;
      frequency = 0;
      for ( hashBoardPointer = &hashBoardsData[256 * hardwareInitStatus]; ; ++hashBoardPointer )
      {
        optimalVoltage = frequency + optimalVoltage;
        if ( frequency >= getNumericHashBoardValue(hardwareInitStatus) )
          break;
        socTypeResult = checkHardwareIsS9();
        configureBoardHashFrequency(frequency, socTypeResult);
        if ( !socTypeId )
        {
          ++optimalVoltage;
          socTypeIdDuplicate = optimalVoltage;
          optimalVoltage = frequency + optimalVoltage;
          setBoardHashMode(hardwareInitStatus, socTypeIdDuplicate, 32);
        }
        ++frequency;
        setBoardHashMode(hardwareInitStatus, optimalVoltage, 111);
        *hashBoardPointer = 0LL;
      }
      setBoardHashMode(hardwareInitStatus, frequency + optimalVoltage, 111);
    }
    ++hardwareInitStatus;
  }
  while ( hardwareInitStatus != 4 );
  if ( (unsigned __int8)checkASICChipsConnectivity() )
    return 0;
  if ( globalFanControlFlag )
    performFanControl();
  startASICBoost();
  initialASICConfiguration();
  verifyTemperatureSensor();
  if ( (unsigned int)globalLogLevel > 3 )
  {
    strcpy(logBuffer, "Init done!\n");
    logMessage(3, logBuffer, 0);
  }
  return 1;
}
```