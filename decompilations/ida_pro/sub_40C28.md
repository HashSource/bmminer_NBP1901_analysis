```c
int __fastcall readGPIOValue(int gpioNumber, _BYTE *gpioValue)
{
  int result;            // r4
  int openResult;        // r0
  int fileDescriptor;    // r5
  int buffer;            // [sp+Ch] [bp-85Ch] BYREF
  char gpioPath[64];     // [sp+10h] [bp-858h] BYREF
  char errorMsg[2072];   // [sp+50h] [bp-818h] BYREF

  buffer = 0;
  result = pthread_mutex_lock(&gpioLockMutex);
  
  if (result)
  {
    result = -1;
    strcpy(errorMsg, "failed to api lock\n");
    logMessage(0, errorMsg, 0);
  }
  else
  {
    snprintf(gpioPath, 0x40, "/sys/class/gpio/gpio%d/value", gpioNumber);
    openResult = open64(gpioPath);
    fileDescriptor = openResult;
    
    if (openResult < 0)
    {
      snprintf(errorMsg, 0x800, "Failed to open gpio %d value for reading!\n", gpioNumber);
      result = -2;
      logMessage(0, errorMsg, 0);
      pthread_mutex_unlock(&gpioLockMutex);
    }
    else if (read(openResult, &buffer, 4u) < 0)
    {
      strcpy(errorMsg, "Failed to read value!\n");
      result = -3;
      logMessage(0, errorMsg, 0);
      close(fileDescriptor);
      pthread_mutex_unlock(&gpioLockMutex);
    }
    else
    {
      close(fileDescriptor);
      pthread_mutex_unlock(&gpioLockMutex);
      *gpioValue = strtol((const char *)&buffer, 0, 10);
    }
  }

  return result;
}
```