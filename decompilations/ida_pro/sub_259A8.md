```c
void __noreturn MonitorASICHeartbeat()
{
  double currentVoltage;           // d0
  double averageVoltage;           // d9
  int chainIndex;                  // r4
  double totalVoltage;             // d8
  double thresholdVoltage;         // d7
  const char *voltageChangeType;   // r3
  bool isVerbosityHigh;            // cc
  int failureCount;                // r12
  int failureCounts[4];            // [sp+10h] [bp-848h] BYREF
  char logBuffer[2104];            // [sp+20h] [bp-838h] BYREF

  memset(failureCounts, 0, sizeof(failureCounts));
  averageVoltage = -1.0;
  prctl(15, "heart_beat", 0, 0, 0);
  while ( true )
  {
    chainIndex = 0;
    totalVoltage = 0.0;
    pthread_setcancelstate(1, 0);
    do
    {
      if ( IsChainActive(chainIndex) )
      {
        LockChain();
        if ( IsChainAlive((unsigned __int8)chainIndex) )
        {
          failureCounts[chainIndex] = 0;
        }
        else
        {
          isVerbosityHigh = (unsigned int)globalLogLevel > 1;
          failureCount = failureCounts[chainIndex] + 1;
          failureCounts[chainIndex] = failureCount;
          if ( isVerbosityHigh )
          {
            snprintf(logBuffer, 0x800u, "chain[%d] heart beat fail %d times.\n", chainIndex, failureCount);
            logMessage(1, logBuffer, 0);
          }
        }
        UnlockChain();
        currentVoltage = ReadASICVoltage(chainIndex);
        totalVoltage = totalVoltage + currentVoltage;
      }
      ++chainIndex;
    }
    while ( chainIndex != 4 );
    if ( GetActiveChainCount() )
      totalVoltage = totalVoltage / (double)GetActiveChainCount();
    if ( averageVoltage < -0.1 )
      averageVoltage = totalVoltage;
    if ( (unsigned int)globalLogLevel > 4 )
    {
      snprintf(logBuffer, 0x800u, "last avg = %.2f, current voltage = %.2f", averageVoltage, totalVoltage);
      logMessage(4, logBuffer, 0);
    }
    thresholdVoltage = (double)(configVoltageThreshold / 100) * 0.75;
    if ( (thresholdVoltage < averageVoltage && averageVoltage * 0.75 > totalVoltage || thresholdVoltage < totalVoltage && totalVoltage * 0.75 > averageVoltage) && (unsigned int)globalLogLevel > 3 )
    {
      voltageChangeType = "drop";
      if ( totalVoltage - averageVoltage > 0.0 )
        voltageChangeType = "rise";
      snprintf(logBuffer, 0x800u, "chain avg vol %s to %.2f", voltageChangeType, totalVoltage);
      logMessage(3, logBuffer, 0);
    }
    averageVoltage = totalVoltage;
    pthread_setcancelstate(0, 0);
    pthread_testcancel();
    sleep(0xAu);
  }
}
```