```c
void *setMiningTarget(void *minerConfig)
{
  double targetValueReciprocal; // d0
  __int64 highTargetBits; // r0
  __int64 tmpHighTargetBits; // r6
  double lowPartTarget; // r0
  double adjustedLowPartTarget; // d8
  __int64 lowTargetBits; // r0
  int highBitsOfLowTarget; // r10
  int lowBitsOfLowTarget; // r11
  double midPartTarget; // r0
  double adjustedMidPartTarget; // d8
  __int64 midTargetBits; // r0
  int highBitsOfMidTarget; // r8
  int lowBitsOfMidTarget; // r9
  double finalPartTarget; // r0
  unsigned int finalTargetBits; // r0
  int highBitsOfFinalTarget; // r1
  char *hexTargetString; // r6
  unsigned int targetBitsArray[6]; // [sp+8h] [bp-850h] BYREF
  __int64 high64TargetBits; // [sp+20h] [bp-838h]
  char logBuffer[2096]; // [sp+28h] [bp-830h] BYREF

  if ( targetValueReciprocal == 0.0 )
  {
    if ( loggingDebug || loggingVerbose || loggingThreshold > 2 )
    {
      tmpHighTargetBits = 4294901760LL;
      strcpy(logBuffer, "Diff zero passed to set_target");
      logMessage(3, logBuffer, 0);
      finalTargetBits = 0;
      highBitsOfFinalTarget = 0;
      lowBitsOfMidTarget = 0;
      highBitsOfLowTarget = 0;
      highBitsOfMidTarget = 0;
      lowBitsOfLowTarget = 0;
    }
    else
    {
      finalTargetBits = 0;
      tmpHighTargetBits = 4294901760LL;
      highBitsOfFinalTarget = 0;
      lowBitsOfMidTarget = 0;
      highBitsOfLowTarget = 0;
      highBitsOfMidTarget = 0;
      lowBitsOfLowTarget = 0;
    }
  }
  else
  {
    highTargetBits = divideDoubleInt64(2.69595353e67 / targetValueReciprocal, 1.59309191e-58);
    tmpHighTargetBits = highTargetBits;
    lowPartTarget = subtractDoubleInt64(highTargetBits);
    adjustedLowPartTarget = 2.69595353e67 / targetValueReciprocal - lowPartTarget * 6.27710174e57;
    lowTargetBits = divideDoubleInt64(adjustedLowPartTarget, 2.93873588e-39);
    highBitsOfLowTarget = HIDWORD(lowTargetBits);
    lowBitsOfLowTarget = lowTargetBits;
    midPartTarget = subtractDoubleInt64(lowTargetBits);
    adjustedMidPartTarget = adjustedLowPartTarget - midPartTarget * 3.40282367e38;
    midTargetBits = divideDoubleInt64(adjustedMidPartTarget, 5.42101086e-20);
    highBitsOfMidTarget = HIDWORD(midTargetBits);
    lowBitsOfMidTarget = midTargetBits;
    finalPartTarget = subtractDoubleInt64(midTargetBits);
    finalTargetBits = divideDoubleInt64(finalPartTarget, 1.84467441e19);
  }
  high64TargetBits = tmpHighTargetBits;
  targetBitsArray[4] = lowBitsOfLowTarget;
  targetBitsArray[5] = highBitsOfLowTarget;
  targetBitsArray[2] = lowBitsOfMidTarget;
  targetBitsArray[3] = highBitsOfMidTarget;
  targetBitsArray[0] = finalTargetBits;
  targetBitsArray[1] = highBitsOfFinalTarget;
  if ( logEnabled )
  {
    hexTargetString = convertTargetToHexString((int)targetBitsArray, 32);
    if ( logEnabled && (loggingDebug || loggingVerbose || loggingThreshold > 6) )
    {
      snprintf(logBuffer, 0x800u, "Generated target %s", hexTargetString);
      logMessage(7, logBuffer, 0);
    }
    free(hexTargetString);
  }
  return updateMinerConfig(minerConfig, targetBitsArray, 0x20u, (int)"bmminer.c", (int)"set_target", 1124);
}
```