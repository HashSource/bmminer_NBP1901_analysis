```c
int __fastcall getPicVersion(unsigned int chainIndex)
{
  int ioctlFileDescriptor; // r5
  int result; // r4
  unsigned int checksum; // r3
  int readData; // [sp+8h] [bp-830h] BYREF
  unsigned __int8 checksumByte; // [sp+Ch] [bp-82Ch]
  int commandBuffer[4]; // [sp+10h] [bp-828h] BYREF
  char logBuffer[2072]; // [sp+20h] [bp-818h] BYREF

  if ( chainIndex > 0xF )
  {
    snprintf(logBuffer, 0x800u, "%s: Bad pic param, input chain is %d\n", "get_pic_version", chainIndex);
    result = -2147483135;
    logMessage(0, logBuffer, 0);
    return result;
  }
  if ( !chainEepromOpenedFlagArray[2 * chainIndex + 1] )
  {
    result = openChainEeprom(chainIndex);
    if ( result < 0 )
    {
      snprintf(logBuffer, 0x800u, "%s: auto exec open_pic, but chain %d open eeprom failed\n", "get_pic_version", chainIndex);
      logMessage(0, logBuffer, 0);
      return result;
    }
  }
  ioctlFileDescriptor = chainEepromOpenedFlagArray[2 * chainIndex];
  pthread_mutex_lock(&iicMutex);
  commandBuffer[1] = 6912;
  commandBuffer[0] = 386181717;
  commandBuffer[2] = 0;
  commandBuffer[3] = 0;
  readData = 0;
  checksumByte = 0;
  if ( writeI2C(ioctlFileDescriptor, (int)commandBuffer, 6) != 6 )
  {
    snprintf(logBuffer, 0x800u, "%s write iic err\n", "_bitmain_pic_get_sw_ver_common");
    goto logError;
  }
  usleep(0x493E0u);
  if ( readI2C(ioctlFileDescriptor, &readData, 5) != 5 )
  {
    snprintf(logBuffer, 0x800u, "%s read iic err\n", "_bitmain_pic_get_sw_ver_common");
    goto logError;
  }
  if ( BYTE1(readData) == 23 && (unsigned __int8)readData == 5 )
  {
    result = BYTE2(readData);
    checksum = BYTE2(readData) + 28;
    if ( HIBYTE(readData) == checksum >> 8 && checksumByte == (unsigned __int8)checksum )
      goto unlockMutex;
    snprintf(logBuffer, 0x800u, "%s failed 2!\n", "_bitmain_pic_get_sw_ver_common");
  }
  else
  {
    snprintf(logBuffer, 0x800u, "%s failed!\n", "_bitmain_pic_get_sw_ver_common");
  }
  logMessage(0, logBuffer, 0);
  printBufferHex((unsigned __int8 *)&readData, 5u); // Assuming it's for debug
  result = -2147483136;
unlockMutex:
  pthread_mutex_unlock(&iicMutex);
  return result;

logError:
  logMessage(0, logBuffer, 0);
  goto unlockMutex;
}
```