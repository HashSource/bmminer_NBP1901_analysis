```c
int __fastcall CalculateFrequencyDividers(int dividerConfigPtr, _BYTE *updateFlagPtr, float *calculatedFreqPtr)
{
  float targetFreq; // s0
  int loopCounter; // r12
  int fbdivInteger; // r4
  int isUpdated; // r5
  int postdiv2; // r8
  int refdiv; // r2
  int fbdiv; // r9
  int postdiv1; // r11
  float minDiff; // s11
  int divLoopCounter; // r1
  float refdivFloat; // s13
  int fbdivTemp; // r0
  int postdiv1Temp; // lr
  int productTemp; // r3
  float tempFreq; // s7
  int intermediateResult; // s14
  float calculatedFreq; // s15
  float adjustedCalculatedFreq; // s15
  float comparisonFreq; // s16
  int result; // r0

  loopCounter = 2;
  fbdivInteger = 0;
  isUpdated = 0;
  postdiv2 = 0;
  refdiv = 2;
  fbdiv = 0;
  postdiv1 = 0;
  minDiff = 10.0;
  while ( 1 )
  {
    divLoopCounter = 1;
    refdivFloat = (float)refdiv;
    do
    {
      fbdivTemp = divLoopCounter * divLoopCounter;
      postdiv1Temp = (unsigned __int8)divLoopCounter;
      productTemp = divLoopCounter;
      tempFreq = (float)divLoopCounter * targetFreq;
      do
      {
        intermediateResult = (int)((float)((float)((float)((float)productTemp * tempFreq) * refdivFloat) / 25.0) + 0.5);
        if ( (unsigned int)(intermediateResult - 16) <= 0xEA )
        {
          calculatedFreq = (float)intermediateResult * (float)(25.0 / (float)refdiv);
          if ( (refdiv != 1 || calculatedFreq <= 3125.0) && calculatedFreq <= 3200.0 && calculatedFreq >= 2000.0 )
          {
            adjustedCalculatedFreq = fabsf(targetFreq - (float)(calculatedFreq / (float)fbdivTemp));
            if ( adjustedCalculatedFreq < minDiff )
            {
              postdiv2 = (unsigned __int8)divLoopCounter;
              fbdiv = postdiv1Temp;
              minDiff = adjustedCalculatedFreq;
              postdiv1 = refdiv;
              fbdivInteger = (int)((float)((float)((float)((float)productTemp * tempFreq) * refdivFloat) / 25.0) + 0.5);
              isUpdated = 1;
            }
          }
        }
        ++productTemp;
        fbdivTemp += divLoopCounter;
        postdiv1Temp = (unsigned __int8)productTemp;
      }
      while ( (unsigned __int8)productTemp != 8 );
      ++divLoopCounter;
    }
    while ( divLoopCounter != 8 );
    refdiv = 1;
    if ( loopCounter == 1 )
      break;
    loopCounter = 1;
  }
  if ( fbdivInteger )
  {
    comparisonFreq = (float)((float)(25.0 / (float)postdiv1) * (float)fbdivInteger) / (float)(isUpdated * (__int16)fbdiv * (__int16)postdiv2);
    if ( calculatedFreqPtr )
      *calculatedFreqPtr = comparisonFreq;
    printf(
      "final refdiv: %d, fbdiv: %d, postdiv1: %d, postdiv2: %d, usr divider: %d, min diff value: %f\n",
      postdiv1,
      fbdivInteger,
      fbdiv,
      postdiv2,
      isUpdated,
      minDiff);
    printf("Want freq: %f, Real freq: %f\n", targetFreq, comparisonFreq);
    result = 0;
    *(_BYTE *)dividerConfigPtr = fbdiv;
    *(_BYTE *)(dividerConfigPtr + 1) = postdiv2;
    *(_BYTE *)(dividerConfigPtr + 2) = postdiv1;
    *(_WORD *)(dividerConfigPtr + 4) = fbdivInteger;
    *updateFlagPtr = isUpdated;
    updateFlagPtr[1] = isUpdated;
    updateFlagPtr[2] = isUpdated;
    updateFlagPtr[3] = isUpdated;
  }
  else
  {
    puts("find div fail, use default value");
    return -1;
  }
  return result;
}
```