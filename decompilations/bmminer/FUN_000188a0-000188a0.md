```c
// Function to get the hash rate for a specific work mode and chain on the miner
uint32_t GetHashRateForWorkMode(int chainIndex, uint32_t workMode, uint32_t *hashRatePtr)
{
  char outputBuffer[2056];
  
  // Check if the global data pointer is valid and if the 'enabled' flag at offset 0x1c is true
  if ((gGlobalDataPtr != 0) && (*(char *)(gGlobalDataPtr + 0x1c) != '\0')) {
    // If the hashRate pointer is not null, fetch the hash rate
    if (hashRatePtr != NULL) {
      *hashRatePtr = (uint32_t)*(ushort *)(*(int *)(gGlobalDataPtr + chainIndex * 4) + 0x3c);
      return 0; // Success
    }
    return 0; // Hash rate pointer is null, but operation is still considered a success
  }
  // If the miner has not enough operational work modes, return error code
  if (gMinerWorkModes < 4) {
    return 0xffff; // Error code indicating insufficient work modes
  }
  
  // Log a message indicating that there is no work mode hash rate for the requested chain and mode
  snprintf(outputBuffer, 0x800, "No work mode hash rate, chain = %d, mode = %d.\n", chainIndex, workMode);
  LogMessage(3, outputBuffer, 0);
  return 0xffff; // Error code indicating no work mode hash rate available
}
```

In this code snippet, the function `GetHashRateForWorkMode` retrieves the hash rate for a given mining chain and work mode. It checks if certain global data is initialized and if so, it outputs the hash rate to a provided pointer. If the global data is not initialized, or if the system is in less than four work modes, it returns an error code. The function also logs a message if it cannot find a hash rate for the specified work mode and chain index. Comments have been added to describe the steps and the meaning of the variables and error codes.