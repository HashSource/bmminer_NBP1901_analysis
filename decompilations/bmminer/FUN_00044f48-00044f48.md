```c
void ConfigureChipPinControl(uint controlRegisterValue, int controlMode, uint pinMask)
{
  int index;
  uint bitPosition;
  uint controlValue1;
  uint controlValue2;
  uint controlValue3;
  bool isBitSet;
  undefined4 selectedPinsLowByte;
  undefined4 selectedPinsHighByte;
  
  bitPosition = 0;
  index = 0;
  selectedPinsLowByte = 0;
  selectedPinsHighByte = 0;
  
  // Iterate through all 32 bits in pinMask and store the bit positions in selectedPins
  do {
    // Check if the bit at position bitPosition is set in pinMask
    isBitSet = (pinMask & (1 << (bitPosition & 0xff))) != 0;
    // If the bit is set, record the position
    if (isBitSet) {
      *(char *)((int)&selectedPinsLowByte + index) = (char)bitPosition;
    }
    bitPosition = bitPosition + 1;
    // Increment index if a bit was set
    if (isBitSet) {
      index = index + 1;
    }
  } while (index < 8 && bitPosition < 32); // Only record up to 8 bits
  
  // If the control mode is set to 4, perform the following configuration
  if (controlMode == 4) {
    WriteControlRegister(0x2d, controlRegisterValue);
    controlValue1 = controlRegisterValue | (1 << (char)selectedPinsLowByte);
    WriteControlRegister(0x39, controlValue1);
    controlValue2 = (1 << (selectedPinsLowByte >> 8 & 0xff)) | controlRegisterValue;
    WriteControlRegister(0x3a, controlValue2);
    WriteControlRegister(0x3b, controlValue1 | controlValue2);
    return;
  }
  
  // If the control mode is set to 8, perform a different configuration involving more pins
  if (controlMode == 8) {
    WriteControlRegister(0x2d, controlRegisterValue);
    controlValue1 = controlRegisterValue | (1 << (char)selectedPinsLowByte);
    WriteControlRegister(0x39, controlValue1);
    controlValue3 = (1 << selectedPinsLowByte._1_1_) | controlRegisterValue;
    controlValue2 = controlValue1 | (1 << selectedPinsLowByte._1_1_);
    WriteControlRegister(0x3a, controlValue3);
    controlValue2 = (1 << (selectedPinsLowByte >> 16 & 0xff));
    WriteControlRegister(0x3b, controlValue2 | controlRegisterValue);
    WriteControlRegister(0x3c, controlValue2);
    WriteControlRegister(0x3d, controlValue1 | controlValue2);
    WriteControlRegister(0x3e, controlValue3 | controlValue2);
    WriteControlRegister(0x3f, controlValue2 | controlValue2);
    return;
  }
  
  // If the control mode is neither 4 nor 8, only write the control register with the current value
  WriteControlRegister(0x2d, controlRegisterValue);
  return;
}
```