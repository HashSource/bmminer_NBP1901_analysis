```c
void HandleFanControlRequest(int jsonInputFlag)
{
  int fanCount;
  unsigned int normalizedFanCount;
  char logMessage[2048];

  // When jsonInputFlag is zero, it verifies certain global conditions
  if (jsonInputFlag == 0) {
    // Check if certain global flags are set or a threshold is exceeded
    if ((gIsConditionMet != '\0') || (gIsAnotherConditionMet != '\0') || (gThresholdValue > 2)) {
      // Log an error message if conditions are met
      snprintf(logMessage, sizeof(logMessage), "%s: input bad json param\n", gModuleName);
      LogError(3, logMessage, 0);
      return;
    }
  }
  else {
    // If jsonInputFlag is not zero, handle the fan control based on JSON input
    fanCount = GetFanCount(); // Function possibly returns the count of fans
    normalizedFanCount = NormalizeValue(fanCount, fanCount >> 0x1f); // Normalize the fan count for some purpose, such as scaling
    AddFanInfoToJson(jsonInputFlag, "fan_num", normalizedFanCount); // Add the fan count to the JSON object
  }
  return;
}
```