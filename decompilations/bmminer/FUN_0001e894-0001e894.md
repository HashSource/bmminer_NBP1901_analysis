```c
#define DEVICE_INFO_ARRAY_SIZE 0x210 // Size of one device info block
#define MAX_DEVICES_STATUS_ARRAY_SIZE DAT_0058dfbc // Maximum number of devices status in the array
#define ERROR_CODE_INVALID_INDEX -0x7ffffbff // Custom error code for invalid index
#define MAX_DEVICE_INFO_STRING_LENGTH 0x200 // Maximum length for the device info string

// Global variables (initial names were given by the decompiler)
extern char *g_deviceStatusArray; // Array containing the status of all devices
extern int g_isDeviceStatusArrayInitialized; // Flag indicating if the device status array is initialized

int GetDeviceInfo(uint deviceIndex, char *deviceInfoBuffer) {
    int status;

    // Check if the device index is within the valid range and the buffer is not null
    if ((int)deviceIndex < MAX_DEVICES_STATUS_ARRAY_SIZE && deviceInfoBuffer != NULL) {
        status = 0;

        // Initialize the device status array if it hasn't been initialized yet.
        if (g_isDeviceStatusArrayInitialized == 0) {
            status = InitializeDeviceStatusArray();
            if (status < 0) {
                return status; // Return error if initialization failed
            }
        }

        // Get the device info from the status array for the given device index
        snprintf(deviceInfoBuffer, MAX_DEVICE_INFO_STRING_LENGTH, "%s", 
                 g_deviceStatusArray + deviceIndex * DEVICE_INFO_ARRAY_SIZE + 0x10);
    } else {
        // If the index is out of bounds or the buffer is null, return an error.
        status = ERROR_CODE_INVALID_INDEX;
    }
    return status;
}
```

Note: Replace `InitializeDeviceStatusArray` with the actual initialization function name once known. If additional context provides a definition for the `FUN_0001b398` function, that name should be substituted accordingly.