```c
#include <semaphore.h>

/* Function to handle semaphore wait with logging and error handling */
void WaitForSemaphore(sem_t *semaphore, const char *file, const char *function, int line) {
  int waitResult;
  int *errnoLocation;
  char logBuffer[2052]; // Increased the buffer size to ensure there is enough space for logs
  
  // Attempt to decrease the semaphore's value by one, waiting if necessary
  do {
    waitResult = sem_wait(semaphore);
    if (waitResult == 0) {
      // Successfully decreased semaphore, can return now
      return;
    }
    
    // If the wait was interrupted, try again
    errnoLocation = __errno_location(); // Obtain pointer to thread-local error variable
  } while (*errnoLocation == 4); // Repeat if error was EINTR (Interrupted system call)
  
  // If we reach here, there was an error other than an interrupt
  // Compose a log message including details about the failed operation
  snprintf(logBuffer, sizeof(logBuffer),
           "Failed to sem_wait errno=%d semaphore=0x%p in %s %s():%d",
           *errnoLocation, semaphore, file, function, line);
  
  // Log the error message with severity level 3
  LogAndHandleError(3, logBuffer, true);

  // An unrecoverable error occurred, terminate the program
  TerminateProgram(1);
}
```