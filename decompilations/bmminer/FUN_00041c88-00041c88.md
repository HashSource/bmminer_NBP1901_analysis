```c
#include <pthread.h>
#include <stdint.h>

extern pthread_mutex_t *miner_mutex_array; // Presumed variable declaration, actual declaration might differ
extern uint32_t get_available_data_size(uint8_t miner_id);
extern uint32_t transfer_miner_data(uint8_t miner_id, uint32_t buffer, uint32_t size);

/*
 * Transfer data of specific size for a given miner with locking.
 * param_1: miner index
 * param_2: buffer for data transfer
 * param_3: data size to transfer
 * Returns: result of the data transfer operation
 */
uint32_t locked_data_transfer(uint32_t miner_index, uint32_t buffer, uint32_t requested_size) {
  uint32_t actual_data_size;
  uint32_t transfer_result;
  pthread_mutex_t *miner_mutex;

  // Calculate the mutex address for the given miner index
  miner_mutex = &miner_mutex_array[miner_index * 0x18]; // 0x18 is possibly the size of each mutex element in the array
  // Lock the mutex for the specified miner
  pthread_mutex_lock(miner_mutex);

  // Check how much data is available to be transferred for the miner
  actual_data_size = get_available_data_size(miner_index & 0xff); // Ensure miner_index is within 0-255 range
  // Adjust requested_size if there's less data available than requested
  if (actual_data_size < requested_size) {
    requested_size = actual_data_size;
  }

  // If no data needs to be transferred, unlock the mutex and return 0
  if (requested_size == 0) {
    pthread_mutex_unlock(miner_mutex);
    return 0;
  }

  // Perform the data transfer operation
  transfer_result = transfer_miner_data(miner_index, buffer, requested_size);
  // Unlock the mutex after the data transfer
  pthread_mutex_unlock(miner_mutex);
  // Return the result of the data transfer operation
  return transfer_result;
}
```