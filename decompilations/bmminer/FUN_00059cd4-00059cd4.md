```c
int ProcessLoggingMessage(int logger, int logEvent)
{
  char *bufferPointer;
  int logSpecReturnVal;
  int ruleReturnVal;
  int *ruleArrayPointer;
  int bufferLength;
  int bytesWritten;
  char *formattedMessageStart;
  
  // Check if the user-defined record function for logger is set, otherwise log an error
  if (*(int *)(logger + 0x2084) == 0) {
    LogError(2,"src/rule.c",0x19d,"user defined record function for [%s] not set, no output",
             logger + 0x1880);
    ruleReturnVal = -1;
  }
  else {
    ruleArrayPointer = *(int **)(logger + 0x1434); // get the array of rules
    bufferPointer = (char *)**(int **)(logEvent + 0x10); // get the pointer to the message buffer
    ruleReturnVal = ruleArrayPointer[1]; // get the number of rules
    (*(int **)(logEvent + 0x10))[1] = (int)bufferPointer; // save the current buffer pointer?
    if (0 < ruleReturnVal) {
      ruleReturnVal = 0;
      do {
        logSpecReturnVal = *(int *)(*ruleArrayPointer + ruleReturnVal * 4);
        ruleReturnVal += 1;
        logSpecReturnVal = (**(code **)(logSpecReturnVal + 0x242c))(logSpecReturnVal,logEvent);
        if (logSpecReturnVal != 0) {
          LogError(2,"src/rule.c",0x1a1,"zlog_spec_gen_path fail");
          return -1;
        }
        ruleArrayPointer = *(int **)(logger + 0x1434); // re-fetch the array of rules in case it got modified
      } while (ruleReturnVal < ruleArrayPointer[1]);
      bufferPointer = (char *)(*(int *)(logEvent + 0x10) + 4); // update the pointer after processing?
    }
    
    *bufferPointer = 0; // terminate the buffer string
    ruleReturnVal = FormatLogMessage(*(int *)(logger + 0x1878), logEvent); // format the log message
    if (ruleReturnVal == 0) {
      **(char **)(*(int *)(logEvent + 0x1c) + 4) = 0; // terminate the formatted message
      bufferLength = **(int **)(logEvent + 0x1c); // get buffer length
      formattedMessageStart = **(char **)(logEvent + 0x10); // get start of formatted message
      bytesWritten = (*(int **)(logEvent + 0x1c))[1] - bufferLength; // calculate bytes written
      ruleReturnVal = (**(code **)(logger + 0x2084))(&bufferLength); // call the user-defined record function
      if (ruleReturnVal != 0) {
        LogError(2,"src/rule.c",0x1ae,"a_rule->record fail");
        ruleReturnVal = -1;
      }
    }
    else {
      LogError(2,"src/rule.c",0x1a4,"zlog_format_gen_msg fail");
      ruleReturnVal = -1;
    }
  }
  
  return ruleReturnVal; // return the result of processing
}
```