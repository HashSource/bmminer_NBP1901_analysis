```c
uint FormatFloatingPointValue(char *buffer, uint bufferSize, int precision)
{
  char currentChar;
  uint formattedLength;
  lconv *localeInfo;
  char *decimalPointPos;
  char *exponentCharPos;
  size_t moveLength;
  
  // If precision is not specified, use a default value of 17
  if (precision == 0) {
    precision = 0x11;
  }
  
  // Format the floating point value using the precision provided
  formattedLength = snprintf(buffer, bufferSize, "%.*g", precision);
  
  // Check if the formatted string fits within the buffer size, return error if not
  if (bufferSize <= formattedLength) {
    return 0xffffffff;
  }
  
  localeInfo = localeconv();
  
  // Replace locale-specific decimal point with '.' if necessary
  if (((byte)*localeInfo->decimal_point != 0x2e) &&
     (decimalPointPos = strchr(buffer, (uint)(byte)*localeInfo->decimal_point), decimalPointPos != NULL)) {
    *decimalPointPos = '.';
  }
  
  // Find where the decimal point and 'e' are located within the formatted string
  decimalPointPos = strchr(buffer, '.');
  exponentCharPos = strchr(buffer, 'e');
  
  // If there's no decimal point and 'e' is not present, add ".0" to the end
  if (decimalPointPos == NULL) {
    if (exponentCharPos != NULL) goto CheckExponent;
    
    if (bufferSize <= formattedLength + 3) {
      return 0xffffffff;
    }
    
    decimalPointPos = buffer + formattedLength;
    *decimalPointPos = '.';
    formattedLength += 2;
    decimalPointPos[1] = '0';
    buffer[formattedLength] = '\0';
    
    exponentCharPos = strchr(buffer, 'e');
  }
  
  // If 'e' character is not found, return the current length of the formatted string
  if (exponentCharPos == NULL) {
    return formattedLength;
  }
  
CheckExponent:
  currentChar = exponentCharPos[2];
  
  // Check if the character after 'e' is a minus, and ignore leading zeroes after it
  if (exponentCharPos[1] == '-') {
    exponentCharPos += 2;
    if (currentChar == '0') goto RemoveLeadingZeroes;
  }
  else {
    exponentCharPos = exponentCharPos + 1;
    while (currentChar == '0') {
RemoveLeadingZeroes:
      exponentCharPos += 1;
      currentChar = *exponentCharPos;
    }
    
    // Shift the exponent part to remove leading zeroes if necessary
    if (exponentCharPos != decimalPointPos) {
      moveLength = formattedLength - ((int)exponentCharPos - (int)buffer);
      formattedLength = formattedLength - ((int)exponentCharPos - (int)decimalPointPos);
      memmove(decimalPointPos, exponentCharPos, moveLength);
    }
  }
  
  // Return the length of the formatted string
  return formattedLength;
}
```